# nginx-8080

http://51.68.36.97:8080/

ca "ressemble" à une page standard nginx : pas de robots.txt

-> trouver les pages derrière : c'est un RP ?

en inspectant les images, on devine un répertoire upload.

## vuln scan

```sh
nmap -v -sV -Pn -p $PORT -script=vuln -oA vuln $RHOST
```

voir [rapport nmap](./vuln.nmap)

Resources CVE Database: Search for vulnerabilities and exploits specific to NGINX 1.18.0.

-    CVE-2021-23017: A buffer overflow vulnerability in the NGINX HTTP/2 implementation, allowing remote attackers to execute arbitrary code. **demande d'avoir accès au DNS :/ **

-    NGINX Resolver Vulnerability: An exploit that takes advantage of the CVE-2021-3618 vulnerability, allowing attackers to cause a denial-of-service (DoS) or potentially execute arbitrary code.


## à partir de la configuration

voir [nginx-default-site.conf](../04-apache-80/nginx-default-site.conf)

http://51.68.36.97:8080/upload/flag.txt

`FLAG4{07a9a337ce7fd02f56f0db83e9ba82c625da7e1e}` : CaféExpresso !

La configuration autorise le suivi des symlinks et nginx-users a un home : comment avoir un lien depuis upload (/tmp/run/nginx) vers /home/nginx-user ? (note de moi-même plus tard : nope et de l'avis du Grand Concepteur bien trop tordue/avancée comme idée :D)

il y a un répertoire pics/ qui contient un keepass : on le télécharge et on le mets de côté pour plus tard : il va falloir cracker son mot de passe: ca peut prendre du temps ET se faire hors ligne.

voir [08-keypass](../08-keepass) et c'est pas bien de publier ses keepass !

### récupération des images analyses metadata

avec exiv2 : aucune métadata dans les images de uploads

note de moi même plus tard : le même effet tunnel que sur les images de 04-apache-80 !

voir [09-la_merde_a_fred](../09-la_merde_a_fred/) pour en savoir plus.

## wapiti

```sh
wapiti -u http://$RHOST:$PORT-v 2 -f txt -o wapiti.general.txt
```

queutchi...

## dirbuster

voir https://medium.com/@1200km/mastering-dirbuster-a-strategic-approach-to-uncovering-hidden-web-assets-31c8406a892b

```sh
dirbuster -H -l /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt -u http://$RHOST:$PORT | tee -a dirbuster.log
```

c'est long et ca n'a rien apporté.

fin de la piste !
