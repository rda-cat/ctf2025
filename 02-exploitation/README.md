# exploitation

## intro trop longue

Il s'agit ici de mes notes, reprise un poil au moment de soumettre ce write-up comme rapport, prise tout au long du CTF.

L'idée c'est de pouvoir m'arrêter et reprendre à tout moment : je fais le CTF sur mon temps libre, je suis interrompu par la vraie vie et je ne peux y consacrer que des tranches de 30 à 60 minutes.

Je vais pas essayer de le faire en une nuit et je sais qu'à la fin il faudra livrer un rapport (le futur ne m'a pas démenti): il faut TOUT noter ! les faits notables, les idées, y compris les pistes qu'on a explorées puis closes car ca ne mène à rien. Dès qu'on trouve un nom de user, un password, hop on note ! et on pense bien à réessayer ces passwords dès que l'occasion se présente. Dans la vraie vie, les utilisateurs réutilisent les mots de passe !

Ce repository permets d'avoir un suivi de son avancement, de pouvoir revenir en arrière, repartir sur une autre piste sans avoir à refaire 15 fois la même chose. Bref, de la méthode, de la rigueur comme l'évoquait Cyrille dans son meetup. (ce rapport est l'exception : vu que l'évènement est festif / convivial, je reste dans un esprit fun, vais pas me casser le cù7 à faire un zoli rapport word nan mé!).

Si on doit faire plusieurs fois la même chose : on AUTOMATISE ! on s'OUTILLE ! Le bon vieux `Make` est votre ami ! Si on écrit un script python, idem ! Ca peut resservir dans un autre challenge.

Pour obtenir les résultats: `make results` :)
```sh
FLAG10{b2ece9353bac8fdda4fd579e19622607059cdec8}
FLAG1{a1c02dc0b22ac521bfcfd02f56f43fdf8b21057c}
FLAG2{a293ad2fb67c5e70a0cececbaf6304f5e72224a4}
FLAG3{07993337ce7f0273a65ba0db8ee9b24623da7e1e}
FLAG4{07a9a337ce7fd02f56f0db83e9ba82c625da7e1e}
FLAG5{fce3563b5af5afe22f0a16a54f577a0178ee2822}
FLAG6{805047c6ea758c4bf42df8c978f20c2dc16bc92f}
FLAG7{ca6f82334977c7ab3892c8d0e6e1ce821ba6398b}
FLAG8{99e9c842544a1aa4f6886c89a47f1b7d3e8feb51}
FLAG9{f53d516fccde16e240fe3a62fa575c52fdc8cd7f}
```

Ce [Makefile](./Makefile) m'a permis tout au long du CTF de suivre ma progression.

## méthodes / approche

Il faut être patient, suivre le pattern, gather, think, exploit, pivot : surtout ne pas se jeter sur la première piste qui se présente (l'épreuve n'est pas chronométré de toute facon). Le risque est de perdre son temps.

**Collecter tout ce qui peut l'être** : avoir l'information sous la main en local, sans devoir refaire les commandes, dans des fichiers. avoir des notes.

**Formuler un plan** : regarder ce qui s'offre : se donner les priorités. Par exemple, à l'issue de la phase [01-search](../01-search/) je savais que j'allais partir d'abord sur ftp et smb car c'est du "standard", les ports webs ou custom ayant de bonnes chances de présenter des applications dont l'exploitation allait prendre plus de temps.

**Exploit** : essayer de progresser. Dès qu'on commence à se focaliser sur un service, repartir sur une phase Gather&Think en approfondissant les scans et enfin trouver la faille.

**Pivot**: une fois passer une étape, on reprend encore la phase Gather&Think : est-ce qu'on peut rebondir de là ? progresser et trouver d'autres informations.

## navigation

aller dans les sous-répertoires : l'ordre est plus ou moins celui que j'ai adopté, sachant que dans le cas de certains j'ai lancé des scans en parallèle, que j'ai sauté de l'un à l'autre quand je manquais d'inspiration.

- [01-ftp-21](./01-ftp-21/) easyyyy pour les vieux.
- [02-smb-445](./02-smb-445/) je sors déjà la grosse berta.
- [03-apache-443](./03-apache-443/) rhalala le reuse de conf !
- [04-apache-80](./04-apache-80/) le spot juteux.
- [05-apache-53814](./05-apache-53814/) mouais.
- [06-nginx-8080](./06-nginx-8080/) de l'appli et du brute force, alors qu'il y avait tout ce qu'il fallait dans [04-apache-80](./04-apache-80/).
- [07-ssh-22](./07-ssh-22/) même si je savais qu'il y avait rien.
- [08-keepass](./08-keepass/) s'pa'bo !
- [09-la_merde_a_fred](./09-la_merde_a_fred/) que dire de plus ? quoi qu'il y a un twist :)
- [10-king_of_the_hill](./10-king_of_the_hill/) : tentative de privesc


## resources

TOP10 - Owasp : https://owasp.org/www-project-top-ten/ mais en fait au final vu les "failles" on s'en fout :D
